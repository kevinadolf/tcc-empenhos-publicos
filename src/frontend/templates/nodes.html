{% extends "base.html" %}
{% block title %}Catálogo de Nós{% endblock %}

{% block content %}
<section class="page page--nodes">
  <header class="page__header">
    <div>
      <h1 class="page__title">Catálogo de Nós</h1>
      <p class="page__subtitle">Pesquise por órgãos, fornecedores ou empenhos presentes no grafo.</p>
    </div>
    <div class="actions actions--wide">
      <input id="node-search" class="input" type="search" placeholder="Filtrar por nome ou ID…" />
      <select id="node-type-filter" class="select">
        <option value="all" selected>Todos</option>
        <option value="orgao">Órgãos</option>
        <option value="empenho">Empenhos</option>
        <option value="fornecedor">Fornecedores</option>
        <option value="contrato">Contratos</option>
      </select>
    </div>
  </header>
  <div class="panel panel--stretch nodes-layout">
    <div class="panel__body">
      <div id="node-status" class="panel__status">Carregando nós…</div>
      <table id="node-table" class="table" hidden>
        <thead>
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Tipo</th>
            <th>Valor empenhado</th>
            <th>Risco</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <aside class="glossary">
      <h3>Glossário rápido</h3>
      <ul>
        <li><strong>Empenho</strong>: compromisso de pagamento registrado pelo órgão público.</li>
        <li><strong>Contrato</strong>: vínculo formal associado ao empenho; indica objeto e partes.</li>
        <li><strong>Fornecedor</strong>: quem recebe o pagamento; pode ter múltiplos empenhos/órgãos.</li>
        <li><strong>Órgão</strong>: unidade gestora que emite empenhos.</li>
        <li><strong>Risco</strong>: score agregado das anomalias (centralidade, entropia, etc.).</li>
      </ul>
      <p class="glossary__tip">Dica: clique no ID para abrir o grafo focado no nó.</p>
    </aside>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('frontend.static', filename='js/nodes.js') }}"></script>
{% endblock %}
